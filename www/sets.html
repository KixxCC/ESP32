<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="./css/master.css">
    <title>Sets</title>
    <style media="screen">
      select{
        width: 140px;
        height: 40px;
      }
      input[type='checkbox'] {
          -webkit-appearance:none;
          position: relative;
          z-index: -3;
          width:30px;
          height:30px;
          background:white;
          border-radius:5px;
          border:2px solid #555;
      }
      input[type='checkbox']:checked {
          background: #1e1e1e;
      }
      label.checkbox-label input[type=checkbox]{
          position: relative;
          vertical-align: middle;
          bottom: 1px;
      }
      .slidecontainer{
        width: 100%;
      }
      .slider {
        -webkit-appearance: none;
        width: 80%;
        height: 15px;
        border-radius: 5px;
        background: #333;
        outline: none;
        opacity: 1;
        -webkit-transition: .2s;
        transition: opacity .2s;
      }

      .slider::-webkit-slider-thumb {
        -webkit-appearance: none;
        appearance: none;
        width: 25px;
        height: 25px;
        border-radius: 50%;
        background: #1e1e1e;
        cursor: pointer;
      }

      .slider::-moz-range-thumb {
        width: 25px;
        height: 25px;
        border-radius: 50%;
        background: #1e1e1e;
        cursor: pointer;
      }
    </style>
  </head>

  <body onload="Set_selects('colors.json',['all_same','banner','top',
  'front_left','front_rigth','left_left','left_right','back_left','back_rigth',
  'rigth_left','rigth_rigth'])">
    <ul>
      <li><a href="index.html">Home</a></li>
      <li><a href="color_creator.html">Colors</a></li>
      <li><a class="active" href="sets.html">Sets</a></li>
    </ul>
    <br><br><br>
    <label class="checkbox-label"><input id="all_same"type="checkbox" name="" value=""
    onclick="enable_disable_selects(['color_all_same','top','front_left',
    'front_rigth','left_left','left_right',
    'back_left','back_rigth','rigth_left','rigth_rigth'])">
     All Colors Same </label> <br><br>
     <select disabled  class="" id="color_all_same" name=""></select>
    <h4>Banner</h4>
      <select class="" id="banner" name=""></select>
    <h4>Top</h4>
      <select class="" id="top" name=""></select>
    <h4>Front</h4>
      <select class="" id="front_left" name=""></select>
      <select class="" id="front_rigth" name=""></select>
    <h4>Left</h4>
      <select class="" id="left_left" name=""></select>
      <select class="" id="left_right" name=""></select>
    <h4>Back</h4>
      <select class="" id="back_left" name=""></select>
      <select class="" id="back_rigth" name=""></select>
    <h4>Right</h4>
      <select class="" id="rigth_left" name=""></select>
      <select class="" id="rigth_rigth" name=""></select>
    <br>
    <h4>Led Effects</h4>
      <select class="" id="led_effect" name=""></select>
    <br><br>
    <div class="slidecontainer">
        <h3>brightness</h3>
        <output id="brightness_display"></output><br><br>
        <input type="range" class="slider" value="50" id="brightness" min="0" max="100" step="1">
    </div>
    <br><br>
    <input type="text" id="set_name" placeholder="Set Name">
    <br><br><br>
    <button class="button" type="button" name="button">Try</button> <button class="button" type="button" name="button">Save</button> <br><br><br>

    <script type="text/javascript">
    var slider = document.getElementById("brightness");
    var output = document.getElementById("brightness_display");
    output.innerHTML = '50%'; // Display the default slider value

    // Update the current slider value (each time you drag the slider handle)
    // use slidr.value / 100 for json
    slider.oninput = function() {
      console.log(this.value);
      output.innerHTML = this.value+ '%' ;
    }
    </script>

    <script type="text/javascript">
      function enable_disable_selects(selects) {
        if (document.getElementById(selects[0]).disabled == true) {
          document.getElementById(selects[0]).disabled = false;
        }
        else {
          document.getElementById(selects[0]).disabled = true;
        }

        for (var i = 1; i < selects.length; i++) {
          if (document.getElementById(selects[i]).disabled == true) {
            document.getElementById(selects[i]).disabled = false;
          }
          else {
            document.getElementById(selects[i]).disabled = true;
          }
        }
      }

      function fill_select(select,colorJSON) {
      html = '';
      html+= '<optgroup label="Defaults">';
      html+= "<option selected value='#000000'>None</option>";
        for (var key in colorJSON['defaults'] ) {
            html += "<option value=" + colorJSON['defaults'][key]  + " style= 'background-color:"+colorJSON['defaults'][key]+"'>" +key + "</option>";
        }
      html+='</optgroup>';
      html+='<optgroup label="Created Colors">';
      for (var key in colorJSON['user_set'] ) {
          html += "<option value=" + colorJSON['user_set'][key]+ " style= 'color:"+colorJSON['user_set'][key]+"'>" +key + "</option>";
      }
      html+='</optgroup>';
      document.getElementById(select).innerHTML = html;

      }
      function Set_selects(json_path,selects) {
        //http://'+ window.location.hostname+'/'+json_path for server
        //json_path for dev
        fetch (json_path)
          .then(function(response){
            return response.json();
          })
          .then(function(myJson) {
            for (var i = 0; i < selects.length; i++) {
              fill_select(selects[i],myJson)
            }
          });

      }
    </script>

    <script type="text/javascript">
      function try_set(){
        if (!document.getElementById('check_all_same').checked ) {
          console.log('yeet');
        }
        else {
          console.log('neet');
        }
      }
    </script>

  </body>
</html>
